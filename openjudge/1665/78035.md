### 思路

问题：用$`1\times 2`$的诺牌覆盖$`3\times n`$的棋盘，求盖数Q(n)？

先说结论，递推公式是：
```math
\forall_{n\ge 2}, Q(n) = Q(n-2) + 2 \sum_{i=1}^{n//2}Q(n-2i)
```
```math
Q(1)=0, Q(0)=1
```

我们把$`3\times n`$的棋盘横放，从左到右用诺牌覆盖棋盘。
我们根据棋盘左侧边缘的覆盖来分情况讨论。
1. 最左侧横放三张诺牌，右边剩下$`3\times (n-2)`$的空白棋盘，得到公式中的盖数$`Q(n-2)`$
2. 也可以上竖下横放置两张诺牌，上横下竖的情况和它是对称的，可以只讨论上竖下横的情况，得到公式中第一个加号后面的2。
   1. 上竖下横的右上角会出现一个$`2\times 1`$的缺口，可以在那儿竖放一块诺牌，右边剩下$`3\times (n-2)`$的空白棋盘，得到公式中的$`Q(n-2i)|_{i=1}`$
   2. 也可以在缺口那横放两张诺牌，在这两张诺牌的下面出现了一个$`1\times 1`$的缺口，这个地方必须也横放一张诺牌。
   这样右上角又出现了一个$`2\times 1`$的缺口。
      1. 与前面的操作类似，可以在缺口处竖放一张诺牌，右边剩下$`3\times (n-4)`$的空白棋盘，得到$`Q(n-2i)|_{i=2}`$
      2. 上面的过程可以循环往复，得到$`Q(n-2i)|_{i=2,\dots,n//2}`$
   3. 按照前面的方法，如果$`2|n`$，整个棋盘可以被完全覆盖，否则剩下一个$`3\times 1`$的空白，是不能完成覆盖的。
3. 显然$`Q(1)=0, Q(2)=3`$，Q(0)没有定义。把$`Q(2)=3`$代入$`Q(2)=Q(0)+2Q(0)`$，可以定义Q(0)=1

递推公式还可以进行化简:
```math
Q(n)=3Q(n-2)+Q(n-4)+Q(n-6)+\ldots
```
```math
Q(n-2)=3Q(n-4)+Q(n-6)+\ldots 
```
上下等式相减得到
```math
Q(n)-Q(n-2)=3Q(n-2)-2Q(n-4)
```
即
```math
Q(n) = 4Q(n-1)-2Q(n-4)
```



