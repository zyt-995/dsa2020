# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/49115431/)

```
基本信息
#: 49115431
题目: P0540
提交人: 谢冰2400011514(xb谢神)
内存: 3608kB
时间: 23ms
语言: Python3
提交时间: 2025-05-11 12:50:39
```

这个问题要求计算给定数量的元素通过栈操作可能得到的所有出栈序列的总数。实际上，这个数目就是卡特兰数（Catalan number）的第n项。卡特兰数的定义与栈的出栈序列总数完全吻合。

### 卡特兰数简介
卡特兰数的递推公式为：
$$C_n = \frac{1}{n+1} \binom{2n}{n}$$
或者可以通过递推关系：
$$C_0 = 1$$
$$C_{n+1} = \sum_{i=0}^{n} C_i \times C_{n-i}$$

对于给定的n，出栈序列的总数就是第n个卡特兰数。

### 代码解释
1. **输入处理**：读取整数n，表示元素的数量。
2. **卡特兰数计算**：
   - 基本情况：当n为0或1时，卡特兰数为1。
   - 动态规划方法：使用一个数组`catalan`来存储中间结果，`catalan[i]`表示i个元素的出栈序列总数。
   - 递推关系：对于每个i，计算`catalan[i]`作为所有可能的左子树和右子树组合的和。
3. **输出结果**：打印第n个卡特兰数，即n个元素的出栈序列总数。

这种方法利用了动态规划来高效地计算卡特兰数，避免了递归带来的重复计算问题。