# 状态: [Accepted](http://xzmdsa.openjudge.cn/2024hw1tmp/solution/48296796/)

```
基本信息
#: 49174608
题目: P0460
提交人: 谢冰2400011514(xb谢神)
内存: 19972kB
时间: 135ms
语言: Python3
提交时间: 2025-05-16 09:18:28
```

要解决这个问题，我们需要找到滑动窗口在数组上移动时的最小值和最大值。由于数组的长度可以达到100,000，普通的暴力方法（对于每个窗口遍历所有元素）会导致O(n*k)的时间复杂度，这在最坏情况下会非常低效。因此，我们需要使用更高效的算法，如单调队列，来在O(n)的时间内解决问题。

### 方法思路
1. **单调队列用于最小值**：维护一个队列，其中元素按递增顺序排列。队列中存储的是数组的索引，这样我们可以方便地判断元素是否在当前窗口内。对于每个新元素，我们从队列尾部移除比当前元素大的元素，然后将当前元素加入队列。这样，队列头部始终是当前窗口的最小值。
2. **单调队列用于最大值**：类似地，维护一个队列，其中元素按递减顺序排列。同样，队列中存储的是数组的索引。对于每个新元素，我们从队列尾部移除比当前元素小的元素，然后将当前元素加入队列。这样，队列头部始终是当前窗口的最大值。
3. **处理窗口滑动**：每次移动窗口时，检查队列头部的元素是否已经不在当前窗口内（即索引小于当前窗口的起始位置），如果是，则将其从队列头部移除。

### 代码解释
1. **sliding_window_min_max函数**：该函数处理核心逻辑，使用两个双端队列分别维护当前窗口的最小值和最大值。
   - **最小值队列(min_deque)**：确保队列中的元素按递增顺序排列，队列头部是当前窗口的最小值。每次新元素加入时，移除队列尾部比当前元素大的元素，以保持递增顺序。
   - **最大值队列(max_deque)**：确保队列中的元素按递减顺序排列，队列头部是当前窗口的最大值。每次新元素加入时，移除队列尾部比当前元素小的元素，以保持递减顺序。
   - **窗口滑动处理**：每次迭代检查队列头部元素是否在窗口内，若不在则移除。当窗口大小达到k时，记录当前队列头部的元素作为结果。
2. **main函数**：处理输入输出。读取输入数据，调用sliding_window_min_max函数获取结果，并输出。

这种方法确保了每个元素最多进入和离开队列一次，使得算法的时间复杂度为O(n)，非常高效。