# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48856049/)

```
基本信息
#: 48856049
题目: P1220
提交人: 谢冰2400011514(xb谢神)
内存: 6144kB
时间: 57ms
语言: Python3
提交时间: 2025-04-09 08:25:20
```

​为了解决这个问题，我们需要找到第N个孩子最多比第1个孩子多分几个糖果。这个问题可以通过差分约束系统建模为图的最短路径问题来解决。

### 方法思路
1. **问题分析**:
   - 每个关系A B C表示孩子A的糖果数比孩子B少不超过C，即B的糖果数最多可以比A多C。
   - 我们需要将这些关系转化为图中的边，并通过最短路径算法来求解最大可能的差值。

2. **图模型**:
   - 将每个孩子视为一个节点。
   - 每个关系A B C转化为从节点A到节点B的一条有向边，权重为C。

3. **最短路径算法**:
   - 使用SPFA（Shortest Path Faster Algorithm）来处理可能的负权边，并找到从节点1到节点N的最短路径，该路径的值即为所求的最大差值。

### 代码解释
1. **输入处理**:
   - 读取孩子数N和关系数M。
   - 使用邻接表构建图结构，每个关系A B C对应一条从A到B的边，权重为C。

2. **SPFA算法**:
   - 初始化距离数组`dist`，其中`dist[1]`设为0，其余设为无穷大。
   - 使用队列来处理节点，初始将节点1加入队列。
   - 每次从队列中取出节点，松弛其所有邻接边，更新最短距离，并将需要处理的节点重新加入队列。

3. **输出结果**:
   - 最终输出节点1到节点N的最短路径值，即第N个孩子最多比第1个孩子多的糖果数。