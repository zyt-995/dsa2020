# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48352730/)

```
基本信息
#: 48352730
题目: P0280
提交人: 董哲坤2400010839
内存: 3560kB
时间: 26ms
语言: Python3
提交时间: 2025-02-25 09:10:29
```

# 解答

可以考虑递归的方法。

 ## 递归函数的设计

递归函数 `f(n, m)` 是解决这个问题的核心。它的目的是计算将 `n` 个苹果放入 `m` 个盘子中的不同分法数量。递归函数的逻辑基于以下几点：

#### 基本情况

递归函数需要定义一些基本情况，这些情况可以直接得出结果，而不需要进一步递归：

- **`if n == 0:`**
  如果没有苹果需要分配（`n == 0`），那么说明这种分配方法是合理有效的。因此，返回 `1`。
- **`if n < 0 or m <= 0:`**
  如果苹果数量为负（`n < 0`），或者没有盘子可用（`m <= 0`），这种情况下无法完成分配，因此返回 `0`。

#### 递归关系

对于一般情况，递归函数通过将问题分解为更小的子问题来求解。具体来说，有两种情况：

- **至少有一个盘子为空**：
  这种情况下，可以将问题简化为将 `n` 个苹果放入 `m-1` 个盘子中，即 `f(n, m-1)`。
  这是因为我们可以假设有一个盘子始终为空，从而减少盘子的数量。
- **所有盘子都不为空**：
  这种情况下，每个盘子至少放一个苹果。因此，可以先在每个盘子中各放一个苹果，剩下的问题就变成了将 `n-m` 个苹果放入 `m` 个盘子中，即 `f(n-m, m)`。

递归函数的返回值是这两种情况的和：

```python
return f(n - m, m) + f(n, m - 1)
```

------

### 主程序逻辑

主程序负责读取输入数据，并调用递归函数 `f(n, m)` 来计算结果，最后输出答案。

------

### 代码完整逻辑总结

整个程序的核心是递归函数 `f(n, m)`，它通过递归的方式将问题分解为更小的子问题，直到问题变得简单到可以直接求解。主程序则负责读取输入数据，并调用递归函数来计算每组数据的结果。

以下是完整的代码逻辑：

1. 定义递归函数 `f(n, m)`：
   - 如果 `n == 0`，返回 `1`（没有苹果，只有一种分法）。
   - 如果 `n < 0` 或 `m <= 0`，返回 `0`（不合法的情况）。
   - 否则，返回 `f(n - m, m) + f(n, m - 1)`（递归关系）。
2. 读取测试数据的数量 `t`。
3. 对于每组测试数据 `(n, m)`：
   - 调用递归函数 `f(n, m)`。
   - 输出结果。