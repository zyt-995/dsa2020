#### 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48317899/)

#### 基本信息

```
#:48317899
题目:P0890
提交人:邵家祺2400012141
内存:3608kB
时间:28ms
语言:Python3
提交时间:2025-02-21 09:14:54
```

#### 问题的分析与对解题方法的说明

这个问题实际上是在求栈的排列问题。给定整数 `n`，我们需要计算从栈中依次弹出元素的不同方式数目。可通过卡特兰数来解决这个问题。

**分解成子问题**：

- 如果 `n` 元素出栈的第一个位置是 `i`，那么栈的左半部分是包含 `i` 个元素的合法序列，右半部分是包含 `n-i-1` 个元素的合法序列。这个分解正是卡特兰数的递归定义。

#### 对程序结构的分析

 递归中初始dp。dp[i] 表示第 i 个卡特兰数。

```
dp = [0]*(n + 1)
dp[0] = 1 
```

递推计算卡特兰数。

```
for i in range(1, n + 1):
        dp[i] = 0
        for j in range(i):
            dp[i] += dp[j] * dp[i - 1 - j]
```

#### 解题感想

这题实际是递归的问题，熟记这个结论会让解题得到很大的方便，当然分析递推也可以得到同样的结果。

#### 踩过的坑

1.dp只设了n个，导致index out of range

2.递推步骤不熟。