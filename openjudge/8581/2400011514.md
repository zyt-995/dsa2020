# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/49055912/)

```
基本信息
#: 49055912
题目: P0700
提交人: 谢冰2400011514(xb谢神)
内存: 3624kB
时间: 21ms
语言: Python3
提交时间: 2025-05-04 09:38:04
```

要解决这个问题，我们需要根据扩展二叉树的先序序列构建二叉树，然后输出其中序和后序序列。扩展二叉树的空节点用 '.' 表示，这使得我们可以唯一地重建二叉树。

### 方法思路
1. **构建二叉树**：使用先序序列递归构建二叉树。每次读取一个字符，如果是 '.' 则表示当前节点为空，否则创建节点，并递归构建左子树和右子树。
2. **中序遍历**：按照左子树、根节点、右子树的顺序遍历二叉树。
3. **后序遍历**：按照左子树、右子树、根节点的顺序遍历二叉树。

### 代码解释
1. **TreeNode类**：定义了二叉树的节点结构，包含节点值和左右子节点。
2. **build_tree函数**：递归构建二叉树。每次处理先序序列的第一个字符，如果是 '.' 则返回 None，否则创建节点，并递归处理剩余字符构建左右子树。
3. **inorder_traversal函数**：递归实现中序遍历，返回中序序列字符串。
4. **postorder_traversal函数**：递归实现后序遍历，返回后序序列字符串。
5. **输入处理**：读取扩展二叉树的先序序列，构建二叉树后，调用中序和后序遍历函数，输出结果。

这种方法确保了我们能够正确地从扩展二叉树的先序序列重建二叉树，并输出所需的中序和后序序列。