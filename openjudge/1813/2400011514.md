# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/49269871/)

```
基本信息
#: 49269871
题目: P0170
提交人: 谢冰2400011514(xb谢神)
内存: 3728kB
时间: 21ms
语言: Python3
提交时间: 2025-05-26 09:08:12
```

为了解决熄灯问题，我们需要找到一种按钮按法，使得所有的灯都被熄灭。每个按钮按下会改变自身及其周围灯的状态。我们可以通过枚举第一行的所有可能按法，并逐行处理后续按钮的按法来解决这个问题。

### 方法思路
1. **枚举第一行的所有可能按法**：第一行有6个按钮，每个按钮有两种状态（按下或不按），共有2^6=64种可能。
2. **模拟按钮按下的影响**：对于每一种可能的第一行按法，模拟其按下后的灯状态变化。
3. **逐行处理后续按钮**：从第二行开始，每一行的按钮按法由前一行灯的状态决定，确保前一行灯全部熄灭。
4. **检查最后一行**：处理完所有行后，检查最后一行灯是否全部熄灭，若是则输出当前按钮按法。

### 代码解释
1. **读取输入**：将输入的5行灯状态保存到二维数组`original_grid`中。
2. **枚举第一行按法**：通过64次循环枚举所有可能的第一行按钮按法，并生成对应的按法矩阵`press`。
3. **模拟按钮影响**：根据当前按法，逐行处理按钮按下的影响，更新灯的状态矩阵`temp_grid`。
4. **逐行处理后续行**：从第二行开始，根据前一行灯的状态决定当前行的按钮按法，确保前一行灯熄灭。
5. **检查结果**：处理完所有行后，检查最后一行是否全部熄灭，若是则输出结果并结束程序。

这种方法通过枚举和逐行处理确保找到正确的按钮按法，适用于解决类似矩阵开关问题。

