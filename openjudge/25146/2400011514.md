# 状态: [Accepted](http://xzmdsa.openjudge.cn/2024hw1tmp/solution/48296796/)

```
基本信息
#: 49027392
题目: P0790
提交人: 谢冰2400011514(xb谢神)
内存: 3680kB
时间: 23ms
语言: Python3
提交时间: 2025-04-28 08:10:19
```

要解决这个问题，我们需要解析给定的文本缩进树，构建树结构，然后进行前序和后序遍历。关键在于如何正确解析每个节点的缩进级别，并确定其父节点。

### 方法思路
1. **解析输入文本**：逐行读取输入，确定每一行的缩进级别和节点字母。缩进级别可以通过统计每行前面的制表符（`\t`）数量来确定。
2. **构建树结构**：使用一个栈来维护当前路径。栈中保存的是当前处理节点的各级父节点。对于每一行，根据缩进级别调整栈，确保栈顶元素是当前节点的父节点，然后将当前节点加入父节点的子节点列表中，并将当前节点压入栈。
3. **遍历树**：前序遍历是根节点、左子树、右子树的顺序；后序遍历是左子树、右子树、根节点的顺序。递归实现这两种遍历即可。

### 代码解释
1. **TreeNode类**：表示树的节点，包含节点值和子节点列表。
2. **build_tree函数**：解析输入的文本行，构建树结构。使用栈来跟踪当前路径，栈中元素是节点及其缩进级别。对于每一行，根据缩进级别调整栈，确保正确父子关系。
3. **preorder和postorder函数**：分别实现前序和后序遍历，递归处理每个节点及其子节点。
4. **main函数**：读取输入，构建树，调用遍历函数并输出结果。

通过这种方法，我们可以正确解析文本缩进树，并生成前序和后序遍历序列。