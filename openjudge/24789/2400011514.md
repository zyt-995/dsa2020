# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48382095/)

```
基本信息
#: 48382095
题目: P1290
提交人: 谢冰2400011514(xb谢神)
内存: 33420kB
时间: 169ms
语言: Python3
提交时间: 2025-02-27 19:12:27
```

为了解决这个问题，我们需要找到一种方法来最大化VR国地下网络中被破坏通道的价值总和。通过分析，我们可以将问题转化为求图的最小生成树，从而得到最优解。

### 方法思路
1. **问题分析**：每次使用环状发生器时，我们需要选择一个环并破坏其中一条通道，直到图中没有环为止。最终剩下的图将是一个生成树。为了使被破坏的通道价值总和最大，我们需要使剩余生成树的价值总和最小。
2. **关键思路**：计算所有通道的总价值，然后减去最小生成树的总价值。这样得到的差值即为被破坏通道的最大价值总和。
3. **算法选择**：使用Kruskal算法来求最小生成树。该算法通过排序所有边并逐步选择最小的边来构建生成树，确保生成树的总价值最小。

### 代码解释
1. **输入处理**：一次性读取所有输入数据以提高效率，并计算所有通道的总价值。
2. **边排序**：按通道价值从小到大排序，以便后续处理。
3. **并查集初始化**：用于高效地管理节点的连通性。
4. **Kruskal算法**：遍历排序后的边，使用并查集逐步构建最小生成树，确保每次选择的边不形成环，直到生成树包含n-1条边。
5. **结果计算**：输出所有通道总价值减去最小生成树的总价值，得到被破坏通道的最大价值总和。

该方法确保了在高效的时间复杂度内求解问题，适用于大规模数据输入。