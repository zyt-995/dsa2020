# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/49246082/)

```
基本信息
#: 49246082
题目: P0300
提交人: 谢冰2400011514(xb谢神)
内存: 15124kB
时间: 515ms
语言: Python3
提交时间: 2025-05-23 23:56:35
```

为了解决这个问题，我们需要计算一个排列的逆序数。逆序数是指在一个排列中，所有逆序对的数量。直接使用暴力方法会超时，因此我们采用归并排序算法来高效地计算逆序数。

### 方法思路
归并排序在合并两个有序子数组时，可以统计逆序对的数量。具体来说，当合并左右两个子数组时，如果左边的元素大于右边的元素，那么左边剩余的所有元素都会与当前右边的元素形成逆序对。通过递归地处理左右子数组，并在合并时统计逆序数，我们可以在O(n log n)的时间复杂度内解决问题。

### 代码解释
1. **merge函数**：合并两个有序子数组，并统计逆序数。当左子数组的元素大于右子数组的元素时，统计左子数组中剩余元素的数量作为逆序数增量。
2. **merge_sort函数**：递归地将数组分成两半，分别排序，然后调用merge函数合并，并累加逆序数。
3. **主程序**：读取输入数据，初始化临时数组，调用归并排序函数，并输出结果。

这种方法通过归并排序高效地计算逆序数，确保在O(n log n)的时间复杂度内完成，适用于大规模数据。