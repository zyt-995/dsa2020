# 状态: [Accepted](http://xzmdsa.openjudge.cn/2025hw2/solution/48550873/)
```
基本信息
#: 48550873
题目: 250207
提交人: 2400012262+周知勤(Tianyi)
内存: 3584kB
时间: 34ms
语言: Python3
提交时间: 2025-03-13 17:02:33
```

# 1. 问题分析

本题的核心在于判断一个“队列操作序列”是否合法。队列遵循**先进先出 (FIFO)** 的原则：

- `+ i` 表示将元素 `i` 入队；
- `- i` 表示将元素 `i` 出队；

要判断一个操作序列是否合法，需要检查：  
1. **出队**操作是否出现在队列为空的情况下（这会导致非法）；  
2. **出队**的元素是否与队头元素一致（否则就不是先进先出了）。  

只有满足以上条件，才能称之为合法的队列序列。

例如，对给出的示例进行分析 `+1 -1 +2 +3 -2 +4 -3 -4`：  
- `+1` → 队列中 `[1]`  
- `-1` → 出队 1，与队头相符，队列变 `[]`  
- `+2` → `[2]`  
- `+3` → `[2, 3]`  
- `-2` → 出队 2，与队头相符，队列变 `[3]`  
- `+4` → `[3, 4]`  
- `-3` → 出队 3，与队头相符，队列变 `[4]`  
- `-4` → 出队 4，与队头相符，队列变 `[]`  
该序列所有出队操作都与队头一致，因此为合法序列。

# 2. 解题方法说明

1. **维护一个队列 (list)**  
   - 对于 `+i` 操作，将 `i` 放入队列尾部（`append`）。  
   - 对于 `-i` 操作，检查：
     - 如果队列为空，则一定不合法；  
     - 否则，比较要出队的元素是否等于队列的队头（即 `queue[0]`）；只有相同才合法，不同则不合法；合法时执行 `pop(0)`。  

2. **标志变量**  
   - 使用一个布尔变量（如 `sa`（`status`））来记录整个序列的合法性，一旦出现不合法操作，标志置为 `False` 并停止进一步逻辑（或者继续读完再判断）。

3. **循环输入**  
   - 根据题目要求，第一行输入 `T`（测试用例个数），然后对每个测试用例：
     1. 读入该序列长度 `n`；  
     2. 读入 `n` 个操作；  
     3. 执行上面所说的队列模拟流程；  
     4. 判断是否合法并输出。

# 解题感想
明确队列的特点，即`FIFO`，同时使用`list`来模拟队列即可顺利完成本题。
