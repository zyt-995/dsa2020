# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/49291458/)

```
基本信息
#: 49291458
题目: P1130
提交人: 谢冰2400011514(xb谢神)
内存: 3688kB
时间: 30ms
语言: Python3
提交时间: 2025-05-29 09:15:58
```

为了解决这个问题，我们需要计算从给定起点出发，能够到达的所有黑色瓷砖的数量。我们可以使用广度优先搜索（BFS）来实现这一目标，因为BFS适合处理这种网格遍历问题，能够有效地探索所有可达的节点。

### 方法思路
1. **输入处理**：读取输入的每个数据集，包括瓷砖的宽度（W）和高度（H），以及瓷砖的布局。
2. **找到起点**：在瓷砖布局中找到初始位置（标记为'@'的位置）。
3. **BFS遍历**：从起点出发，使用BFS遍历所有可达的黑色瓷砖（标记为'.'或'@'的位置），并统计这些瓷砖的数量。

### 代码解释
1. **输入处理**：使用`sys.stdin.readline`读取输入，处理每个数据集直到遇到两个0。
2. **网格构建和起点查找**：读取每行瓷砖布局，构建二维数组，并找到起点位置。
3. **BFS初始化**：使用队列`deque`进行BFS遍历，初始化访问数组`visited`，标记起点为已访问。
4. **遍历过程**：从起点出发，检查四个方向（上下左右），如果相邻位置是黑色瓷砖且未被访问过，则标记为已访问并加入队列，同时增加计数器。
5. **输出结果**：每次遍历结束后输出可达的黑色瓷砖数量。

该方法通过BFS确保了所有可达的黑色瓷砖都被正确计数，时间复杂度为O(W*H)，空间复杂度为O(W*H)，适用于题目给定的数据规模。