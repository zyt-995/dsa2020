# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/49291414/)

```
基本信息
#: 49291414
题目: P1280
提交人: 谢冰2400011514(xb谢神)
内存: 3684kB
时间: 23ms
语言: Python3
提交时间: 2025-05-29 09:01:21
```

为了解决这个问题，我们需要在给定的有向图中找到一个起点，使得从该起点传播信息到所有其他节点的最长时间最短。如果有多个这样的起点，选择编号最小的。如果图中存在无法从任何起点到达的节点，则输出"disjoint"。

### 方法思路
1. **问题分析**：股票经纪人之间的信息传递是有向的，且传递时间可能不同。我们需要找到一个起点，使得从该起点出发，信息传递到所有其他节点的最长时间最小化。
2. **算法选择**：使用Floyd-Warshall算法计算所有点对之间的最短路径。该算法适用于节点数较少（最多100个）的情况，时间复杂度为O(n³)，在可接受范围内。
3. **关键步骤**：
   - **初始化距离矩阵**：对角线元素为0（节点到自身的距离为0），其他元素初始化为一个大数（表示无穷大，即不可达）。
   - **读入有向边**：根据输入数据填充距离矩阵。
   - **Floyd-Warshall算法**：通过中间节点更新所有点对之间的最短路径。
   - **寻找最优起点**：对每个节点，检查是否能到达所有其他节点。如果能，计算其到所有节点的最短路径中的最大值（即传播到整个网络所需时间）。选择这个最大值最小的节点作为起点；如果有多个，选择编号最小的。
   - **处理不连通情况**：如果没有任何节点能到达所有其他节点，输出"disjoint"。

### 代码解释
1. **初始化**：读取输入数据，初始化距离矩阵，对角线元素设为0，其余设为一个大数（表示不可达）。
2. **构建有向图**：根据输入数据填充距离矩阵，每个经纪人的联系人信息转化为有向边。
3. **Floyd-Warshall算法**：通过三重循环更新所有点对之间的最短路径。对于每个中间节点k，检查是否存在通过k的路径比当前路径更短，并更新距离矩阵。
4. **寻找最优起点**：
   - 遍历每个节点作为起点，检查是否能到达所有其他节点（即距离矩阵中无无穷大值）。
   - 对于能到达所有节点的起点，计算其到所有节点的最短路径中的最大值。
   - 选择这个最大值最小的节点作为最优起点；如果有多个，选择编号最小的。
5. **输出结果**：如果存在有效起点，输出最优起点编号和传播时间；否则，输出"disjoint"。

此方法高效地解决了问题，确保在给定的约束条件下找到最优解。