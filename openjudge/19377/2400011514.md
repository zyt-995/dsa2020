# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48913194/)

```
基本信息
#: 48913194
题目: P1230
提交人: 谢冰2400011514(xb谢神)
内存: 5988kB
时间: 136ms
语言: Python3
提交时间: 2025-04-15 08:19:28
```

为了解决这个问题，我们需要确定哪些牛的排名可以被准确确定。具体来说，我们需要利用每头牛在比赛中的胜负关系来推断其在整个牛群中的相对位置。如果一头牛的胜负关系可以覆盖所有其他牛，那么它的排名就可以确定。

### 方法思路
1. **构建有向图**：使用邻接矩阵来表示每头牛之间的胜负关系。如果牛A击败了牛B，则矩阵中A到B的值为True。
2. **传递闭包计算**：使用Floyd-Warshall算法来计算所有牛之间的可达性。这一步可以确定间接胜负关系，例如如果牛A击败牛B，牛B击败牛C，那么牛A也能间接击败牛C。
3. **统计确定排名的牛**：对于每头牛，统计比它强的牛的数量和比它弱的牛的数量。如果这两个数量之和等于牛的总数减一，那么这头牛的排名可以被确定。

### 代码解释
1. **输入处理**：读取牛的数量和比赛结果，初始化邻接矩阵来记录直接的胜负关系。
2. **Floyd-Warshall算法**：通过三重循环更新邻接矩阵，计算所有可能的间接胜负关系，形成传递闭包。
3. **统计可确定排名的牛**：对于每头牛，计算比它强的牛的数量（通过反向邻接矩阵）和比它弱的牛的数量（通过正向邻接矩阵）。如果两者之和等于牛的总数减一，则该牛的排名可以确定。

这种方法确保了我们能够高效地利用图论中的传递闭包概念来解决排名确定问题，时间复杂度为O(N^3)，适用于题目给定的数据规模。