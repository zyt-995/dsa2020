# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48504187/)
```
基本信息
#:
48504187
题目:
P0820
提交人:
2400010604李凯瑞
内存:
5464kB
时间:
358ms
语言:
Python3
提交时间:
2025-03-09 19:06:30
```

## 代码说明
这个问题可以使用并查集（Disjoint Set Union, DSU）来解决。并查集是一种数据结构，用于处理一些不交集的合并及查询问题。可以通过并查集来维护每个杯子所在的集合，并根据操作来合并集合或查询两个杯子是否在同一个集合中。

## 解决思路：
- 初始化并查集：每个杯子初始时都是一个独立的集合，父节点指向自己。
- 处理操作：
对于每个操作 (x, y)，首先检查 x 和 y 是否在同一个集合中。
如果在同一个集合中，输出 “Yes”。
如果不在同一个集合中，将 y 所在的集合合并到 x 所在的集合中，并输出 “No”。
- 统计结果：最后，遍历所有杯子，统计哪些杯子的父节点指向自己（即该杯子是所在集合的代表元素），输出这些杯子的编号。

## 解释
1. DSU类：
`__init__`：初始化并查集，parent数组表示每个元素的父节点，size数组表示每个集合的大小。
find：查找元素的根节点，并进行路径压缩。
union：合并两个集合，返回是否进行了合并操作。