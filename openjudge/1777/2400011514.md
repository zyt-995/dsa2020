# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/49228578/)

```
基本信息
#: 49228578
题目: P0380
提交人: 谢冰2400011514(xb谢神)
内存: 3600kB
时间: 25ms
语言: Python3
提交时间: 2025-05-22 09:24:21
```

为了解决这个问题，我们需要根据输入的文件结构生成一个符合特定缩进格式的目录结构图。输入中的目录和文件需要按照规则处理，目录和子目录需要正确缩进，而文件需要按字母顺序排列。

### 方法思路
1. **数据结构**：使用树状结构来表示目录和文件。每个目录包含子目录列表和文件列表。
2. **输入处理**：使用栈结构来处理目录的嵌套关系。遇到目录时压栈，遇到结束符']'时弹栈。
3. **输出处理**：递归遍历目录结构，先输出子目录再输出文件。子目录和文件的缩进层级不同，子目录缩进层级比当前目录多一层，文件缩进层级与当前目录相同。

### 代码解释
1. **Directory类**：用于表示目录，包含子目录列表和文件列表。
2. **process_test_case函数**：处理每个测试用例，构建目录结构。使用栈来维护当前目录层级，遇到目录压栈，遇到结束符']'弹栈。
3. **print_directory函数**：递归输出目录结构。子目录缩进层级比当前目录多一层，文件缩进层级与当前目录相同，确保正确缩进。
4. **main函数**：读取输入数据，分割成多个测试用例，逐个处理并输出结果。

通过这种方法，我们可以正确解析输入的结构并生成符合要求的目录结构图。

