# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48335767/)

```
基本信息
#: 48335767
题目: P1030
提交人: 谢冰2400011514(xb谢神)
内存: 3680kB
时间: 28ms
语言: Python3
提交时间: 2025-02-22 22:18:56
```

可以通过深度优先搜索（DFS）或者广度优先搜索（BFS）来解决这个问题。我们可以遍历每一个空地（`.`），并从未访问过的空地开始进行一个DFS或者BFS，来计算每个房间的面积。同时记录每个房间的面积并找到最大值。具体步骤如下：

1. 创建一个二维列表 `visited` 来记录每个位置是否已经访问过。
2. 遍历整个字符矩阵，对于每个空地（`.`），如果它没有被访问过，启动一个DFS来遍历整个房间，计算该房间的面积，并标记所有房间中的空地为已访问。
3. 每次找到一个房间时，增加房间计数，并更新最大房间面积。

### 解释：
- `dfs(matrix, visited, r, c, x, y)` 是一个深度优先搜索函数，用于从给定的空地开始遍历，并返回房间的面积。
- `count_rooms_and_max_area(r, c, matrix)` 函数遍历整个矩阵，找出所有的房间并计算其面积，更新最大房间面积。
- 输入处理部分：通过 `input().split()` 获取行列数，通过 `input().strip()` 获取每一行的城堡地图。

### 示例：
对于样例输入：

```
6 12
############
#...#.#.#..#
#####......#
#..#########
#..#..#....#
############
```

输出将会是：

```
5
10
```

这表示城堡中有5个房间，最大房间的面积是10。