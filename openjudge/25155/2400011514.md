# 状态: [Accepted](http://dsbpython.openjudge.cn/dspythonbook/solution/48895304/)

```
基本信息
#: 48895304
题目: P1020
提交人: 谢冰2400011514(xb谢神)
内存: 3640kB
时间: 23ms
语言: Python3
提交时间: 2025-04-13 10:37:26
```

为了解决这个问题，我们需要对给定的无向图进行深度优先遍历（DFS），并输出遍历序列。DFS的核心思想是尽可能深地访问每个节点，当没有未访问的相邻节点时回溯。

### 方法思路
1. **邻接表构建**：首先读取图的顶点数和边数，然后构建邻接表。由于是无向图，每条边需要在两个顶点的邻接表中各添加一次。
2. **排序邻接表**：为了确保每次访问邻接点时按顶点编号升序访问，我们对每个顶点的邻接表进行排序。
3. **DFS遍历**：使用递归方法进行DFS遍历，标记已访问的顶点，并将访问顺序记录在结果列表中。
4. **处理所有连通分量**：由于图可能有多个连通分量，我们需要确保每个顶点都被访问到，因此主循环按顶点编号顺序处理每个未访问的顶点。

### 代码解释
1. **输入处理**：读取顶点数`n`和边数`m`，然后读取每条边并构建邻接表。
2. **邻接表排序**：对每个顶点的邻接表进行升序排序，以确保DFS访问邻接点时按编号顺序进行。
3. **DFS函数**：递归地进行深度优先遍历，标记已访问的顶点，并将顶点添加到结果列表中。
4. **主循环处理**：按顶点编号顺序检查每个顶点是否被访问，若未被访问则调用DFS函数，确保处理所有连通分量。

这种方法保证了每个顶点都被访问，并且邻接点的访问顺序是按升序排列的，从而得到一个合法的DFS遍历序列。